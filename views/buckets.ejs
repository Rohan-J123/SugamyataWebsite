<!DOCTYPE html>
<html lang="en">
<head>
    <link href="./css_files/bootstrap.min.css" rel="stylesheet">
    <script src="./js_files/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <link rel='stylesheet' type='text/css' href='./css_files/buckets_css.css'>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sugamyata Project - Accessibility Learning Paths</title>
</head>
<button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>
<body>
    <header>
        <h1>Sugamyata Project</h1>
        <h2>Accessibility Learning Paths</h2>
    </header>
    
    <div class="container">
        <div class="buckets-container">
            <div class="bucket">
                <h3 style="text-align:center">Accessibility Fundamentals</h3>
                <div class="bucket-content">
                    <div class="game">
                        <h4>A11Y Myth Buster</h4>
                        <p>Identify facts and myths on accesibility</p>
                        <a href="#" class="play-button" class="center">Play</a> 
                    </div>
                    <div class="game">
                        <h4>A11Y Wordle</h4>
                        <p>The classic loved game with an accessibility twist</p>
                        <a href="#" class="play-button">Play</a>
                    </div>
                    <!--
                    <div class="game">
                        <h4>Game 3</h4>
                        <p>Description</p>
                        <a href="#" class="play-button">Play</a>
                    </div>
                -->
                </div>
            </div>
            
            <div class="bucket">
                <h3 style="text-align:center">Accessibility Quests</h3>
                <div class="bucket-content">
                    <div class="game">
                        <h4>2D WCAG Quest</h4>
                        <p>A nostalgic 2D game with WCAG quests</p>
                        <a href="#" class="play-button">Play</a>
                    </div>
                    <!--
                    <div class="game">
                        <h4>Game 2</h4>
                        <p>Description</p>
                        <a href="#" class="play-button">Play</a>
                    </div>
                    <div class="game">
                        <h4>Game 3</h4>
                        <p>Description</p>
                        <a href="#" class="play-button">Play</a>
                    </div>
                -->
                </div>
            </div>
            
            <div class="bucket">
                <h3 style="text-align:center">Accessibility Assessments</h3>
                <div class="bucket-content">
                    <div class="game">
                        <h4>A11Y Bug-hunter</h4>
                        <p>Identify accessibility bugs in code snippets</p>
                        <a href="#" class="play-button">Play</a>
                    </div>
                    <!--
                    <div class="game">
                        <h4>Game 2</h4>
                        <p>Description</p>
                        <a href="#" class="play-button">Play</a>
                    </div>
                    <div class="game">
                        <h4>Game 3</h4>
                        <p>Description</p>
                        <a href="#" class="play-button">Play</a>
                    </div>
                -->
                </div>
            </div>
        </div>
    </div>

    <div class="button-container">
        <a href="/main" class="play-button back-to-home">Back to Home Page</a>
    </div>

    <div id="sign-in-register-container" class="sign-in-register-container hidden">
        <div class="sign-in-register-form">
            <button class="close-button">&times;</button>
            <h2 id="form-title">Sign In</h2>
            <form id="auth-form">
                <input type="email" id="email-field" placeholder="Email" style="display: block;" required>
                <input type="password" id="password" placeholder="Password" required>
                <input type="password" id="password-confirm" placeholder="Re-enter Password"  style="display: none;">
                <button type="submit" id="submit-btn">Sign In</button>
            </form>
            <div class="toggle-form" style="display: flex; justify-content: space-between; width: 100%;">
                <p id="login-toggle-text">Don't have an account?</p>
                <span id="toggle-link">Register</span>
            </div>
        </div>
    </div>

    <div id="additional-register-container" class="sign-in-register-container hidden">
        <form class="sign-in-register-form" id="login-info" style="padding: 20px; max-width: 500px;">
            <button class="close-button" onclick="document.getElementById('additional-register-container').classList.add('hidden')">&times;</button>
            <div class="mb-3">
                <label for="login-name" class="form-label">Your Name: <span style="color: rgb(225, 1, 1);">*</span></label>
                <input type="text" class="form-control" id="login-name" name="login-name" required>
            </div>
            <div style="display: flex;">
                <div class="mb-3" style="flex: 1; margin-right: 10px;">
                    <label for="login-field" class="form-label" id="login-field-label">User Type: <span style="color: rgb(225, 0, 0);">*</span></label>
                    <select class="form-control" id="login-field" name="login-field" required>
                        <option value="High School Student">High School Student</option>
                        <option value="Undergraduate Student">Undergraduate Student</option>
                        <option value="Graduate Student">Graduate Student</option>
                        <option value="Working Professional">Working Professional</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="mb-3" style="flex: 1; margin-left: 10px;" id="sub-field-dropdowns">
                    <label id="subfield-highschool-label" for="subfield-highschool" class="form-label" style="display: block;">School Course: <span style="color: rgb(225, 0, 0);">*</span></label>
                    <input type="text" class="form-control" id="subfield-highschool" class="sub-field-dropdown" name="subfield-highschool" style="display: block; height: 37.6px;">
                    
                    <label id="subfield-undergrad-label" for="subfield-undergrad" class="form-label" style="display: none;">Undergraduate Course: <span style="color: rgb(225, 0, 0);">*</span></label>
                    <input type="text" class="form-control" id="subfield-undergrad" class="sub-field-dropdown" name="subfield-undergrad" style="display: none; height: 37.6px;">
                    
                    <label id="subfield-grad-label" for="subfield-grad" class="form-label" style="display: none;">Graduate Course: <span style="color: rgb(225, 0, 0);">*</span></label>
                    <input type="text" class="form-control" id="subfield-grad" class="sub-field-dropdown" name="subfield-grad" style="display: none; height: 37.6px;">
                    
                    <label id="subfield-worker-label" for="subfield-worker" class="form-label" style="display: none;">Profession: <span style="color: rgb(225, 0, 0);">*</span></label>
                    <input type="text" class="form-control" id="subfield-worker" class="sub-field-dropdown" name="subfield-worker" style="display: none; height: 37.6px;">
                    
                    <label id="subfield-other-label" for="subfield-other" class="form-label" style="display: none;">Other: <span style="color: rgb(225, 0, 0);">*</span></label>
                    <input type="text" class="form-control" id="subfield-other" class="sub-field-dropdown" name="subfield-other" style="display: none; height: 37.6px;">
                </div>
            </div>
            <div style="display: flex;">
                <div class="mb-3" style="flex: 1; margin-right: 10px; margin-bottom: 0%; padding: 0%;">
                    <label for="login-accessibilty-knowledge" class="form-label" id="login-accessibility-knowledge-label" style="margin: 0%;">Accessibility Proficiency: <span style="color: rgb(225, 1, 1);">*</span></label>
                </div>
                <div class="mb-3" style="flex: 1; margin-left: 10px; margin-bottom: 0%; padding: 0%;">
                    <label for="login-area" class="form-label" id="login-area-label" style="margin: 0%;">Area: <span style="color: rgb(225, 1, 1);">*</span></label>
                </div>
            </div>
            <div style="display: flex;">
                <div class="mb-3" style="flex: 1; margin-right: 10px; margin-top: 0%; padding: 0%;">
                    <select class="form-control" id="login-accessibilty-knowledge" name="login-accessibilty-knowledge" required>
                        <option value="Novice">Novice</option>
                        <option value="Competent">Competent</option>
                        <option value="Proficient">Proficient</option>
                        <option value="Expert">Expert</option>
                    </select>
                </div>
                <div class="mb-3" style="flex: 1; margin-left: 10px; margin-top: 0%; padding: 0%;">
                    <select class="form-control" id="login-area" name="login-area" required>
                        <option value="Africa">Africa</option>
                        <option value="America">America</option>
                        <option value="Asia">Asia</option>
                        <option value="Europe">Europe</option>
                    </select>
                </div>
            </div>
            <button type="button submit" class="btn btn-outline-primary" style="margin-top: 20px; width: 200px; height: 40px; font-size: large; position: relative; left: 50%; transform: translateX(-50%);">Submit</button>
        </form>
    </div>

    <footer>
        <p>&copy; 2024 Sugamyata Project. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
    </footer>

    <script>
        const signInRegisterContainer = document.getElementById('sign-in-register-container');
        const formTitle = document.getElementById('form-title');
        const authForm = document.getElementById('auth-form');
        const submitBtn = document.getElementById('submit-btn');
        const toggleLink = document.getElementById('toggle-link');
        const playButtons = document.querySelectorAll('.play-button');
        const closeButton = document.querySelector('.close-button');

        let isSignIn = true;
        let currentGame = null;

        closeButton.addEventListener('click', (e) => {
            e.preventDefault();  // Prevent any default button behavior
            e.stopPropagation();  // Stop event from bubbling up
            signInRegisterContainer.classList.add('hidden');
            // Reset the form when closing
            authForm.reset();
            if (!sessionStorage.getItem('userID')) {
                // Reset to sign in view if we're in register view
                isSignIn = true;
                formTitle.textContent = 'Sign In';
                document.getElementById('password-confirm').style.display = 'none';
                document.getElementById('password-confirm').required  = false;
                submitBtn.textContent = 'Sign In';
                toggleLink.textContent = 'Register';
                document.getElementById("login-toggle-text").textContent = "Don't have an account? ";
            }
        });

        toggleLink.addEventListener('click', () => {
            isSignIn = !isSignIn;
            if (isSignIn) {
                formTitle.textContent = 'Sign In';
                document.getElementById('password-confirm').style.display = 'none';
                document.getElementById('password-confirm').required  = false;
                submitBtn.textContent = 'Sign In';
                toggleLink.textContent = 'Register';
                document.getElementById("login-toggle-text").textContent = "Don't have an account? ";
            } else {
                formTitle.textContent = 'Register';
                document.getElementById('password-confirm').style.display = 'block';
                document.getElementById('password-confirm').required  = true;
                submitBtn.textContent = 'Register';
                toggleLink.textContent = 'Sign In';
                document.getElementById("login-toggle-text").textContent = 'Already have an account? ';
            }
        });

        const savedTheme = localStorage.getItem('theme') || 'dark';
        document.documentElement.setAttribute('data-theme', savedTheme);
        updateThemeIcon(savedTheme);
    
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        }
    
        function updateThemeIcon(theme) {
            const button = document.querySelector('.theme-toggle');
            button.textContent = theme === 'dark' ? '🌙' : '☀️';
        }
    </script>
    <script src="./js_files/login.js"></script>
    <script src="./js_files/games_connect.js"></script>
</body>
</html>
